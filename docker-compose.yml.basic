services:
  server:
    image: public.ecr.aws/succinct-labs/aurelien-private-proving-test:latest
    environment:
      - RUST_LOG=debug
    ports:
      - "8080:8080"
    depends_on:
      - moongate
    restart: unless-stopped
  moongate:
    image: public.ecr.aws/succinct-labs/moongate:v5.0.7-rc.1
    runtime: nvidia
    deploy:
      resources:
          reservations:
            devices:
              - driver: nvidia
                capabilities: [gpu]
    restart: unless-stopped
